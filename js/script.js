const projects = [
    {
        "name": "superhairpieces",
        "key": "superhairpieces",
        "skills": "HTML, CSS, JS, JQuery, PHP, NodeJS, AWS, MySQL, RestAPI, Chrome Extension, BigCommerce, HandleBars, GraphQL",
        "url": "www.superhairpieces.com",
        "thumbnails": {
            "main": {
                "link": "data/projects/superhairpieces/thumbnail-mobile.jpg",
                "type": "image/jpeg"
            },
            "alt": {
                "link": "data/projects/superhairpieces/thumbnail-mobile.webp",
                "type": "image/webp"
            },
            "pc-main": {
                "link": "data/projects/superhairpieces/thumbnail-pc.jpg",
                "type": "image/jpeg"
            },
            "pc-alt": {
                "link": "data/projects/superhairpieces/thumbnail-pc.webp",
                "type": "image/webp"
            }
        },
        "description": [
            "Add and Edit features for Superhairpieces e-commerce, including real-time inventory check, in-stock notification, etc (*). Also I was helping to build landing pages to gain new customers for our business. I also helped in making design of some landing pages.",
            "(*) We are changing the features design every time so the design may look difference."
        ],
        "videos": [
            {
                "mobile": "data/projects/superhairpieces/mobile-demo.mov",
                "pc": "data/projects/superhairpieces/pc-demo.mov"
            },
            {
                "mobile": "data/projects/superhairpieces/mobile-evolve-landing.mov",
                "pc": "data/projects/superhairpieces/pc-evolve-landing.mov"
            },
            {
                "mobile": "data/projects/superhairpieces/mobile-journey-landing.mov",
                "pc": "data/projects/superhairpieces/pc-journey-landing.mov"
            },
            {
                "mobile": "data/projects/superhairpieces/inventory-mobile.mov",
                "pc": "data/projects/superhairpieces/inventory-pc.mov"
            },
            {
                "mobile": "data/projects/superhairpieces/product-mobile.mov",
                "pc": "data/projects/superhairpieces/product-pc.mov"
            }
        ]
    },{
        "name": "privy",
        "key": "privy",
        "skills": "DJango, PHP, HTML, CSS, JQuery, RestAPI, Liquid, Shopify",
        "url": "privyusa.com",
        "thumbnails": {
            "main": {
                "link": "data/projects/privyusa/thumbnail-mobile.jpg",
                "type": "image/jpeg"
            },
            "alt": {
                "link": "data/projects/privyusa/thumbnail-mobile.webp",
                "type": "image/webp"
            },
            "pc-main": {
                "link": "data/projects/privyusa/thumbnail-pc.jpg",
                "type": "image/jpeg"
            },
            "pc-alt": {
                "link": "data/projects/privyusa/thumbnail-pc.webp",
                "type": "image/webp"
            }
        },
        "description": [
            "Build server and frontend website for Privy"
        ],
        "videos": [
            {
                "mobile": "data/projects/privyusa/mobile-demo.mov",
                "pc": "data/projects/privyusa/pc-demo-final.mov"
            }
        ]
    },{
        "name": "chrome extension",
        "key": "chrome",
        "skills": "JS, NodeJS, Chrome API, Chrome Extension",
        "thumbnails": {
            "main": {
                "link": "data/projects/superhairpieces-extension/thumbnail-mobile.jpg",
                "type": "image/jpeg"
            },
            "alt": {
                "link": "data/projects/superhairpieces-extension/thumbnail-mobile.webp",
                "type": "image/webp"
            },
            "pc-main": {
                "link": "data/projects/superhairpieces-extension/thumbnail-pc.jpg",
                "type": "image/jpeg"
            },
            "pc-alt": {
                "link": "data/projects/superhairpieces-extension/thumbnail-pc.webp",
                "type": "image/webp"
            }
        },
        "description": [
            "Build a chrome extension for Superhairpieces staff, help them easily for making and manage orders and customers"
        ],
        "images": [
            {
                "pc": "data/projects/superhairpieces-extension/screenshot1.png"
            },
            {
                "pc": "data/projects/superhairpieces-extension/screenshot2.png"
            },
            {
                "pc": "data/projects/superhairpieces-extension/screenshot3.png"
            }
        ]
    },{
        "name": "nowon",
        "key": "nowon",
        "skills": "HTML, CSS, JS, JQuery, PHP, RestAPI",
        "url": "nowonpay.kr",
        "thumbnails": {
            "main": {
                "link": "data/projects/nowon/thumbnail-mobile.jpg",
                "type": "image/jpeg"
            },
            "alt": {
                "link": "data/projects/nowon/thumbnail-mobile.webp",
                "type": "image/webp"
            },
            "pc-main": {
                "link": "data/projects/nowon/thumbnail-pc.jpg",
                "type": "image/jpeg"
            },
            "pc-alt": {
                "link": "data/projects/nowon/thumbnail-pc.webp",
                "type": "image/webp"
            }
        },
        "description": [
            "Build a website for Nowon"
        ],
        "videos": [
            {
                "pc": "data/projects/nowon/video-pc.mov"
            }
        ]
    },{
        "name": "next ico",
        "key": "next-ico",
        "skills": "React-Native",
        "thumbnails": {
            "main": {
                "link": "data/projects/next-ico/thumbnail-mobile.jpg",
                "type": "image/jpeg"
            },
            "alt": {
                "link": "data/projects/next-ico/thumbnail-mobile.webp",
                "type": "image/webp"
            },
            "pc-main": {
                "link": "data/projects/next-ico/thumbnail-pc.jpg",
                "type": "image/jpeg"
            },
            "pc-alt": {
                "link": "data/projects/next-ico/thumbnail-pc.webp",
                "type": "image/webp"
            }
        },
        "description": [
            "Build a react-native mobile app"
        ],
        "videos": [
            {
                "mobile": "data/projects/next-ico/video-android-pc.mov",
            },
            {
                "mobile": "data/projects/next-ico/video-ios-pc.mov"
            }
        ]
    },{
        "name": "hycon",
        "key": "hycon",
        "skills": "HTML, CSS, JS, JQuery",
        "thumbnails": {
            "main": {
                "link": "data/projects/hycon/thumbnail-mobile.jpg",
                "type": "image/jpeg"
            },
            "alt": {
                "link": "data/projects/hycon/thumbnail-mobile.webp",
                "type": "image/webp"
            },
            "pc-main": {
                "link": "data/projects/hycon/thumbnail-pc.jpg",
                "type": "image/jpeg"
            },
            "pc-alt": {
                "link": "data/projects/hycon/thumbnail-pc.webp",
                "type": "image/webp"
            }
        },
        "description": [
            "Build a website to gather investor for HYCON: a cryptocurrency"
        ],
        "videos": [
            {
                "pc": "data/projects/hycon/video-pc.mov"
            }
        ]
    },{
        "name": "cordova mobile apps",
        "key": "cordova",
        "skills": "Cordova",
        "thumbnails": {
            "main": {
                "link": "data/projects/cordova-mobile-apps/tracker-mobile.jpg",
                "type": "image/jpeg"
            },
            "alt": {
                "link": "data/projects/cordova-mobile-apps/tracker-mobile.webp",
                "type": "image/webp"
            },
            "pc-main": {
                "link": "data/projects/cordova-mobile-apps/tracker-pc.jpg",
                "type": "image/jpeg"
            },
            "pc-alt": {
                "link": "data/projects/cordova-mobile-apps/tracker-pc.webp",
                "type": "image/webp"
            }
        },
        "description": [
            "Build mobile apps using Cordova"
        ],
        "videos": [
            {
                "mobile": "data/projects/cordova-mobile-apps/qr-scanner-pc.MOV",
            }, 
            {
                "mobile": "data/projects/cordova-mobile-apps/qr-scanner-otp.mp4"
            },
            {
                "mobile": "data/projects/cordova-mobile-apps/tracker-pc.MOV"
            }
        ]
    },{
        "name": "block explorer",
        "key": "block-exporer",
        "skills": "ReactJS, Blockchain, TypeScript",
        "thumbnails": {
            "main": {
                "link": "data/projects/block-explorer/thumbnail.jpg",
                "type": "image/jpeg"
            },
            "alt": {
                "link": "data/projects/block-explorer/thumbnail.webp",
                "type": "image/webp"
            }
        },
        "description": [
            "Build a webpage for hycon wallet"
        ],
        "videos": [
            {
                "pc": "data/projects/block-explorer/video-pc.mov",
            },
            {
                "pc": "data/projects/block-explorer/video-mobile.mov"
            }
        ]
    },{
        "name": "api",
        "key": "api",
        "skills": "PHP, BlockChain, Bitcoin, RestAPI",
        "thumbnails": {
            "main": {
                "link": "data/projects/api/success-mobile.jpg",
                "type": "image/jpeg"
            },
            "alt": {
                "link": "data/projects/api/success-mobile.webp",
                "type": "image/webp"
            },
            "pc-main": {
                "link": "data/projects/api/success-pc.jpg",
                "type": "image/jpeg"
            },
            "pc-alt": {
                "link": "data/projects/api/success-pc.webp",
                "type": "image/webp"
            }
        },
        "description": [
            "Build a back end for Next ICO mobile app"
        ],
        "images": [
            {
                "mobile": "data/projects/API/error-pc.jpg"
            },
            {
                "mobile": "data/projects/API/success-pc.jpg"
            }
        ]
    },{
        "name": "void detection",
        "key": "void-detection",
        "skills": "LabView, MathLab",
        "thumbnails": {
            "main": {
                "link": "data/projects/void-detection/thumbnail-mobile.jpg",
                "type": "image/jpeg"
            },
            "alt": {
                "link": "data/projects/void-detection/thumbnail-mobile.webp",
                "type": "image/webp"
            },
            "pc-main": {
                "link": "data/projects/void-detection/thumbnail-pc.jpg",
                "type": "image/jpeg"
            },
            "pc-alt": {
                "link": "data/projects/void-detection/thumbnail-pc.webp",
                "type": "image/webp"
            }
        },
        "description": [
            "Build a labview applicaiton to detect void in a program"
        ],
        "videos": [
            {
                "pc": "data/projects/void-detection/video-pc.mov"
            },
            {
                "pc": "data/projects/void-detection/video-pc.mov"
            }
        ]
    }
];
window.addEventListener("DOMContentLoaded", function() {
    console.log({project});
    let content="";
    for (let project of projects) {
        content+=`
        <div class="project-content-wrapper item" section="${project.key}">
            <div class="title">${project.name}</div>
            <div class="detail">
                <div>Skills: ${project.skills}</div>
                ${project.url ? `<div>Url: <a href="${project.url}" target="_blank">${project.url}</a></div>` : ""}
            </div>
            <picture>
                ${project.thumbnails["pc-alt"] ? `<source media="(min-width:600px)" type="${project.thumbnails["pc-alt"].type}" srcset="${project.thumbnails["pc-alt"].link}">` : ""}
                ${project.thumbnails["pc-main"] ? `<source media="(min-width:600px)" type="${project.thumbnails["pc-main"].type}" srcset="${project.thumbnails["pc-main"].link}">` : ""}
                <source type="${project.thumbnails.alt.type}" srcset="${project.thumbnails.alt.link}">
                <img loading="lazy" src="${project.thumbnails.main.link}" alt="${project.name}">
            </picture>
            <div class="project-arrow-container"></div>
        </div>
        `;
    }
    $(".project-wrapper").html(content);
    let mainPos = 0;
    $(".project-wrapper .project-arrow-container, .project-wrapper picture").on("click", function() {                
        let section = $(this).parents(".project-content-wrapper.item").attr("section");
        let project = projects.find(p=>p.key==section);
        if (project==undefined) return;
        $(".job-content").remove();
        let desp="", imgs="", videos="";
        for (let d of project.description) {
            desp+=`<p>${d}</p>`
        }
        if (project.images) {
            for (let i of project.images) {
                if (i.mobile && i.pc) {
                    imgs += `
                    <picture>
                        <source media="(min-width:600px)" srcset="${i.pc}">
                        <img loading="lazy" src="${i.mobile}">
                    </picture>
                    `;
                } else {
                    imgs+=`<img loading="lazy" src="${i.mobile || i.pc}">`;
                }
            }
        }
        if (project.videos) {
            for (let v of project.videos) {
                if (v.pc && v.mobile) {
                    videos += `
                    <video width="100%" controls mobile>
                        <source src="${v.mobile}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <video width="100%" controls pc>
                        <source src="${v.pc}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    `
                } else if (v.pc) {
                    videos += `
                    <video width="100%" controls>
                        <source src="${v.pc}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    `;
                } else {
                    videos += `
                    <video class="mobile-only" width="100%" controls>
                        <source src="${v.mobile}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    `;
                }
            }
        }
        $("body").append(`
        <div class="job-content" job-description="${project.key}">
            <div class="job-content-menu-container">
                <div class="job-content-close"></div>
                <h3>${project.name}</h3>
            </div>
            ${desp}
            <p>Skills: ${project.skills}</p>
            ${project.url ? `<p>Url: <a href="${project.url}" target="_blank">${project.url}</a></p>` : ""}
            <div class="job-content-image-wrap">
                ${imgs}
                ${videos}
            </div>
        </div>
        `)
        mainPos = $(window).scrollTop();
        $("main.container").addClass("hide");
        $(`.job-content[job-description='${section}']`).addClass("shown");        
        $([document.documentElement, document.body]).animate({
            scrollTop: 0
        }, 0);
        $(".job-content-close").on("click", function() {
            $(".job-content").removeClass("shown");
            $("main.container").removeClass("hide");
            $([document.documentElement, document.body]).animate({
                scrollTop: mainPos
            }, 300);
        })
    });
});
